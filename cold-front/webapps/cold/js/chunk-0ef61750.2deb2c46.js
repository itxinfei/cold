(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0ef61750"],{"364f":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"topLable"},[n("div",{staticClass:"tit"},[n("i",{staticClass:"icon"},[t._v("")]),n("span",[t._v("仓库实时数据")]),n("span",{staticClass:"time"},[t._v(t._s(t.time)+" 秒后自动刷新")])]),n("div",{staticClass:"info"},[n("div",{class:{butItem:!0,active:"0"===t.act},on:{click:function(e){return t.seachCondition("st","0")}}},[t._v("全部 35")]),n("div",{class:{butItem:!0,active:"1"===t.act},on:{click:function(e){return t.seachCondition("st","1")}}},[t._v("合格 35")]),n("div",{class:{butItem:!0,active:"2"===t.act},on:{click:function(e){return t.seachCondition("st","2")}}},[t._v("报警中 35")]),n("div",{class:{butItem:!0,active:"3"===t.act},on:{click:function(e){return t.seachCondition("st","3")}}},[t._v("未监控 35")]),n("el-select",{staticClass:"select",attrs:{size:"mini",filterable:"",placeholder:"企业仓库"},on:{change:function(e){return t.seachCondition("com","0")}},model:{value:t.companyId,callback:function(e){t.companyId=e},expression:"companyId"}},t._l(t.options,function(t){return n("el-option",{key:t.id,attrs:{label:t.company,value:t.id}})}),1)],1)]),n("div",{staticClass:"content"},[n("div",{staticClass:"itemBox"},t._l(t.list,function(e){return n("div",{key:e.id,staticClass:"items"},[n("div",{class:{tit:!0,titbg:0==e.state}},[n("span",[t._v(t._s(e.housename))]),0!=e.state?n("i",{staticClass:"icon",staticStyle:{"font-size":"16px",color:"#186bd0",cursor:"pointer"},on:{click:function(n){return t.actionHandle(e.id)}}},[t._v("")]):t._e()]),n("div",{staticClass:"tem"},[n("span",[n("i",{staticClass:"icon",staticStyle:{"font-size":"18px"}},[t._v("")]),n("span",{class:{col:1==e.state}},[t._v(t._s(e.tem))]),t._v(" ℃")]),n("span",[t._v(t._s(e.mintem)+"/"+t._s(e.maxtem))])]),n("div",{staticClass:"hum"},[n("span",[n("i",{staticClass:"icon"},[t._v("")]),n("span",{class:{col:2==e.state}},[t._v(t._s(e.hum))]),t._v(" %")]),n("span",[t._v(t._s(e.minhum)+"/"+t._s(e.maxhum))])])])}),0),t.total?n("el-pagination",{staticClass:"pageList",attrs:{background:"",layout:"prev, pager, next",total:Number(t.total)},on:{"current-change":t.handleCurrentChange}}):t._e()],1),n("el-dialog",{staticClass:"meterAdd",attrs:{title:t.title,visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[n("el-form",{attrs:{model:t.form,inline:!0,size:"mini"}},[n("el-form-item",{attrs:{label:"处理方式","label-width":t.formLabelWidth}},[n("el-select",{attrs:{placeholder:"请选择处理方式"},model:{value:t.form.operation,callback:function(e){t.$set(t.form,"operation",e)},expression:"form.operation"}},[n("el-option",{attrs:{label:"偶见异常观察中",value:"偶见异常观察中"}}),n("el-option",{attrs:{label:"故障中等待维修",value:"故障中等待维修"}}),n("el-option",{attrs:{label:"开空调",value:"开空调"}}),n("el-option",{attrs:{label:"开风幕机",value:"开风幕机"}})],1)],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:t.submitHandle}},[t._v("保存")])],1)],1)],1)},i=[],r=(n("96cf"),n("3b8d")),s=n("cebc"),o=n("d225"),c=n("b0b4"),u=n("308d"),l=n("6bb5"),d=n("4e2b"),p=n("9ab4"),m=n("60a3"),h=n("b775"),f=function(t){return Object(h["a"])({url:"device/monitor/list",method:"get",params:t})},b=function(t){return Object(h["a"])({url:"monitor/operation",method:"post",params:t})},v=n("50fc"),y=function(t){function e(){var t;return Object(o["a"])(this,e),t=Object(u["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.list=[],t.total=0,t.listLoading=!0,t.companyId="",t.dialogFormVisible=!1,t.time=60,t.act="0",t.options=[],t.actionId="",t.value="",t.title="报警处理措施",t.listQuery={page:1,pagesize:10,companyId:"0",state:0},t.initForm={operation:""},t.formLabelWidth="120px",t.form=Object(s["a"])({},t.initForm),t}return Object(d["a"])(e,t),Object(c["a"])(e,[{key:"created",value:function(){var t=this;this.listQuery.companyId=String(void 0==this.$route.query.id?"":this.$route.query.id),this.listQuery.pagesize=1e3,this.getList(),this.getCompany();var e=this;setInterval(function(){e.time<=0?(t.getList(),e.time=60):e.time--},1e3)}},{key:"submitHandle",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.form.operation){t.next=10;break}return t.next=3,b(Object(s["a"])({id:this.actionId},this.form));case 3:e=t.sent,e.data,this.$message({type:"success",message:"处理成功!"}),this.getList(),this.dialogFormVisible=!1,t.next=11;break;case 10:this.$message({type:"success",message:"请选择处理方法!"});case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"getList",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.listLoading=!0,t.next=3,f(this.listQuery);case 3:e=t.sent,n=e.data,this.total=n.total,this.list=n.items,this.listLoading=!1;case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"getCompany",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={page:1,pagesize:100},t.next=3,Object(v["j"])(e);case 3:n=t.sent,a=n.data,this.options=a.items,this.companyId=String(this.$route.query.id);case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"handleCurrentChange",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.listQuery.page=e,this.getList();case 2:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"actionHandle",value:function(t){this.actionId=t,this.dialogFormVisible=!0}},{key:"seachCondition",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:"com"==e&&(this.listQuery.companyId=this.companyId),"st"==e&&(this.listQuery.state=n,this.act=String(n)),this.getList();case 3:case"end":return t.stop()}},t,this)}));function e(e,n){return t.apply(this,arguments)}return e}()}]),e}(m["c"]);y=p["a"]([Object(m["a"])({name:"storehouse"})],y);var g=y,j=g,C=(n("9a02"),n("2877")),O=Object(C["a"])(j,a,i,!1,null,"455d7180",null);e["default"]=O.exports},"50fc":function(t,e,n){"use strict";n.d(e,"j",function(){return i}),n.d(e,"a",function(){return r}),n.d(e,"s",function(){return s}),n.d(e,"e",function(){return o}),n.d(e,"o",function(){return c}),n.d(e,"d",function(){return u}),n.d(e,"v",function(){return l}),n.d(e,"h",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"b",function(){return m}),n.d(e,"t",function(){return h}),n.d(e,"f",function(){return f}),n.d(e,"A",function(){return b}),n.d(e,"w",function(){return v}),n.d(e,"n",function(){return y}),n.d(e,"c",function(){return g}),n.d(e,"u",function(){return j}),n.d(e,"g",function(){return C}),n.d(e,"m",function(){return O}),n.d(e,"l",function(){return _}),n.d(e,"z",function(){return k}),n.d(e,"i",function(){return w}),n.d(e,"y",function(){return x}),n.d(e,"r",function(){return I}),n.d(e,"x",function(){return T}),n.d(e,"q",function(){return L}),n.d(e,"p",function(){return R});var a=n("b775"),i=function(t){return Object(a["a"])({url:"admin/company/list",method:"get",params:t})},r=function(t){return Object(a["a"])({url:"admin/company/save",method:"post",headers:{"Content-Type":"application/json;"},data:t})},s=function(t){return Object(a["a"])({url:"admin/company/update",method:"put",headers:{"Content-Type":"application/json;"},data:t})},o=function(t){return Object(a["a"])({url:"admin/company/delete",method:"delete",headers:{"Content-Type":"application/json;"},params:t})},c=function(t){return Object(a["a"])({url:"admin/warehouse/list",method:"get",params:t})},u=function(t){return Object(a["a"])({url:"admin/warehouse/save",method:"post",headers:{"Content-Type":"application/json;"},data:t})},l=function(t){return Object(a["a"])({url:"admin/warehouse/update",method:"put",headers:{"Content-Type":"application/json;"},data:t})},d=function(t){return Object(a["a"])({url:"admin/warehouse/delete",method:"delete",params:t})},p=function(t){return Object(a["a"])({url:"admin/host/list",method:"get",params:t})},m=function(t){return Object(a["a"])({url:"admin/host/save",method:"post",headers:{"Content-Type":"application/json;"},data:t})},h=function(t){return Object(a["a"])({url:"admin/host/update",method:"put",headers:{"Content-Type":"application/json;"},data:t})},f=function(t){return Object(a["a"])({url:"admin/host/delete",method:"delete",params:t})},b=function(t){return Object(a["a"])({url:"/admin/host/stop/".concat(t.id),method:"put",params:t})},v=function(t){return Object(a["a"])({url:"/admin/host/restart/".concat(t.id),method:"put",params:t})},y=function(t){return Object(a["a"])({url:"admin/meter/list",method:"get",params:t})},g=function(t){return Object(a["a"])({url:"admin/meter/save",method:"post",headers:{"Content-Type":"application/json;"},data:t})},j=function(t){return Object(a["a"])({url:"admin/meter/update",method:"put",headers:{"Content-Type":"application/json;"},data:t})},C=function(t){return Object(a["a"])({url:"admin/meter/delete",method:"delete",params:t})},O=function(t){return Object(a["a"])({url:"system/schedule/list",method:"get",params:t})},_=function(t){return Object(a["a"])({url:"system/schedule/info/".concat(t),method:"get",params:t})},k=function(t){return Object(a["a"])({url:"/system/schedule/".concat(t.jobId?"update":"save"),method:"post",headers:{"Content-Type":"application/json;"},data:t})},w=function(t){return Object(a["a"])({url:"system/schedule/delete",method:"post",headers:{"Content-Type":"application/json;"},data:t})},x=function(t){return Object(a["a"])({url:"system/schedule/run",method:"post",headers:{"Content-Type":"application/json;"},data:t})},I=function(t){return Object(a["a"])({url:"system/schedule/pause",method:"post",headers:{"Content-Type":"application/json;"},data:t})},T=function(t){return Object(a["a"])({url:"system/schedule/resume",method:"post",headers:{"Content-Type":"application/json;"},data:t})},L=function(t){return Object(a["a"])({url:"system/schedule/log/list",method:"get",headers:{"Content-Type":"application/json;"},params:t})},R=function(t){return Object(a["a"])({url:"/system/schedule/log/info/".concat(t),method:"get"})}},"9a02":function(t,e,n){"use strict";var a=n("d113"),i=n.n(a);i.a},d113:function(t,e,n){}}]);
//# sourceMappingURL=chunk-0ef61750.2deb2c46.js.map