(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a4d181de"],{"2dc2":function(t,e,a){"use strict";var n=a("56c5"),r=a.n(n);r.a},"56c5":function(t,e,a){},a604:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"topLable"},[t._m(0),a("div",{staticClass:"info"},[a("div",{staticClass:"butItem"},[a("span",{staticClass:"label"},[t._v("设备编号")]),a("el-input",{attrs:{size:"mini",placeholder:"请输入查询编号"},on:{input:t.setNumber},model:{value:t.listQuery.metercode,callback:function(e){t.$set(t.listQuery,"metercode",e)},expression:"listQuery.metercode"}})],1)])]),a("div",{staticClass:"content"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.list,"element-loading-text":"Loading"}},[a("el-table-column",{attrs:{label:"仪表编号",prop:"metercode",width:"120"}}),a("el-table-column",{attrs:{label:"仪表名称",prop:"metername",width:"120"}}),a("el-table-column",{attrs:{label:"管理主机号",prop:"hostcode",width:"120"}}),a("el-table-column",{attrs:{label:"仓库名称",prop:"housename",width:"120"}}),a("el-table-column",{attrs:{label:"企业名称",prop:"companyname",width:"100",align:"center"}}),a("el-table-column",{attrs:{label:"采集日期",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.curtime)+" ")]}}])}),a("el-table-column",{attrs:{label:"温度",prop:"tem"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.temalert?a("span",{staticClass:"red"},[t._v(t._s(e.row.tem)+" ℃")]):t._e(),0==e.row.temalert?a("span",{staticClass:"green"},[t._v(t._s(e.row.tem)+" ℃")]):t._e(),-1==e.row.temalert?a("span",{staticClass:"red"},[t._v(t._s(e.row.tem)+" ℃")]):t._e()]}}])}),a("el-table-column",{attrs:{label:"温度阈值",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.mintem)+" / "+t._s(e.row.maxtem))]}}])}),a("el-table-column",{attrs:{label:"温度级别",prop:"temState",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.temalert?a("span",{staticClass:"red"},[t._v("高温报警")]):t._e(),0==e.row.temalert?a("span",{staticClass:"green"},[t._v("正常")]):t._e(),-1==e.row.temalert?a("span",{staticClass:"red"},[t._v("低温报警")]):t._e()]}}])}),a("el-table-column",{attrs:{label:"湿度",prop:"hum",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.humalert?a("span",{staticClass:"red"},[t._v(t._s(e.row.hum)+" %")]):t._e(),0==e.row.humalert?a("span",{staticClass:"green"},[t._v(t._s(e.row.hum)+" %")]):t._e(),-1==e.row.humalert?a("span",{staticClass:"red"},[t._v(t._s(e.row.hum)+" %")]):t._e()]}}])}),a("el-table-column",{attrs:{label:"湿度阈值",align:"center",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.minhum)+" / "+t._s(e.row.maxhum))]}}])}),a("el-table-column",{attrs:{label:"湿度级别",prop:"humState"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.humalert?a("span",{staticClass:"red"},[t._v("高湿报警")]):t._e(),0==e.row.humalert?a("span",{staticClass:"green"},[t._v("正常")]):t._e(),-1==e.row.humalert?a("span",{staticClass:"red"},[t._v("低湿报警")]):t._e()]}}])}),a("el-table-column",{attrs:{label:"设备状态",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(0==e.row.state?"停用":1==e.row.state?"启用":"异常")+" ")]}}])}),a("el-table-column",{attrs:{label:"操作",prop:"",align:"center",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"action",on:{click:function(a){return t.changeHandel(e.row,"tem")}}},[t._v(" 温度曲线图 ")]),a("span",{staticClass:"action",on:{click:function(a){return t.changeHandel(e.row,"hum")}}},[t._v(" 湿度曲线图 ")])]}}])})],1),a("el-pagination",{staticClass:"pageList",attrs:{background:"",layout:"prev, pager, next",total:Number(t.total)},on:{"current-change":t.handleCurrentChange}})],1),a("el-dialog",{staticClass:"meterAdd",attrs:{title:t.title,visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("LineChart",{attrs:{width:"100%",data:t.dataItem}})],1)],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tit"},[a("span",[a("i",{staticClass:"icon"},[t._v("")]),t._v(" 实时报警")])])}],s=(a("96cf"),a("3b8d")),i=a("d225"),l=a("b0b4"),u=a("308d"),c=a("6bb5"),o=a("4e2b"),m=a("9ab4"),d=a("60a3"),p=a("ed5f"),h=a("0926"),f=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(u["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.list=[],t.listLoading=!0,t.dialogFormVisible=!1,t.title="温度曲线",t.total=0,t.dataItem={},t.sub="",t.listQuery={page:1,pagesize:10,nextpage:"",stTime:"",endTime:"",metercode:""},t}return Object(o["a"])(e,t),Object(l["a"])(e,[{key:"created",value:function(){this.getList()}},{key:"getList",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.listLoading=!0,t.next=3,Object(p["c"])(this.listQuery);case 3:e=t.sent,a=e.data,this.list=a.items,this.total=a.total,this.listLoading=!1;case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"changeHandel",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e,a){var n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.dialogFormVisible=!0,this.listQuery.metercode=e.metercode,this.listQuery.page=1,this.listQuery.pagesize=10,t.next=6,Object(p["a"])(this.listQuery);case 6:n=t.sent,r=n.data,"tem"===a?(this.title="温度曲线",this.dataItem={name:"温度",xAxis:r.xAxis,data:r.tem}):(this.title="湿度曲线",this.dataItem={name:"湿度",xAxis:r.xAxis,data:r.hum});case 9:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"handleCurrentChange",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.listQuery.page=e,this.getList();case 2:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"setNumber",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.listQuery.page=1,this.listQuery.pagesize=10,this.getList();case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"setStTime",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.listQuery.endTime&&e>this.listQuery.endTime&&(this.listQuery.stTime=this.listQuery.endTime),this.listQuery.endTime&&(this.listQuery.page=1,this.listQuery.pagesize=10,this.getList());case 2:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"setEndTime",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.listQuery.stTime&&e<this.listQuery.stTime&&(this.listQuery.endTime=this.listQuery.stTime),this.listQuery.stTime&&(this.listQuery.page=1,this.listQuery.pagesize=10,this.getList());case 2:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()}]),e}(d["c"]);f=m["a"]([Object(d["a"])({name:"realTimeCallPolice",filters:{parseTime:function(t){var e=new Date(t);return"".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDay()," ").concat(e.getHours(),":").concat(e.getMinutes(),":").concat(e.getSeconds())}},components:{LineChart:h["a"]}})],f);var b=f,g=b,w=(a("2dc2"),a("2877")),v=Object(w["a"])(g,n,r,!1,null,"76e79a1f",null);e["default"]=v.exports},ed5f:function(t,e,a){"use strict";a.d(e,"c",function(){return r}),a.d(e,"b",function(){return s}),a.d(e,"a",function(){return i});var n=a("b775"),r=function(t){return Object(n["a"])({url:"device/monitor/realtime",method:"get",params:t})},s=function(t){return Object(n["a"])({url:"apache-druid/query/select",method:"get",params:t})},i=function(t){return Object(n["a"])({url:"/apache-druid/query/select",method:"get",params:t})}}}]);
//# sourceMappingURL=chunk-a4d181de.f3896e08.js.map